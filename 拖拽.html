<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	*{
		margin: 0;
		padding: 0;
	}
		#box{
			position: absolute;
			width: 300px;
			height: 300px;
			border:1px solid #ccc;
		}
		#smallbox{
			width: 300px;
			height: 50px;
			background: #ccc;
		}
	</style>
</head>
<body>
	<div id="box">
		<div id="smallbox"></div>
	</div>
</body>
</html>
<script type="text/javascript">
function $(id){
	return document.getElementById(id);
}


var isDown = false;
var offsetX ;
var offsetY;
	
window.onload = function(){
	$("smallbox").onmousedown =function(event){
		isDown = true;
		var evt = event || window.event;
		offsetX = evt.offsetX;
		offsetY = evt.offsetY;
	}
	
	document.body.onmousemove = function(event){
		var evt = event || window.event;
		if(isDown){
			$("box").style.left= (evt.clientX-offsetX)+"px";
			$("box").style.top= (evt.clientY-offsetY)+"px";					
		}
	}
	
	$("smallbox").onmouseup = function(){
		isDown = false;
	}
}



</script>